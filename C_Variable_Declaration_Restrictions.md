# C Variable Declaration Restrictions in Embedded Systems

## Problem Description

Consider these two code snippets for the 8051 microcontroller:

### Non-Working Code
```c
#include <reg51.h>

void main(void){
    char a1;          // –ü–µ—Ä–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—ä—è–≤–ª–µ–Ω–∞
    a1 = 10;         // –ü–µ—Ä–≤–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
    P3 = a1;         // –ü–µ—Ä–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –ø–æ—Ä—Ç–æ–º
    char a2;         // –û–®–ò–ë–ö–ê: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
    a2 = 15;         // –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è
    P1 = a2;         // –û–ø–µ—Ä–∞—Ü–∏—è —Å –ø–æ—Ä—Ç–æ–º
}
```

### Working Code
```c
#include <reg51.h>

void main(void){
    char a1, a2;     // –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω—ã –ü–ï–†–ï–î –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞
    a1 = 10;         // –ü–µ—Ä–≤–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
    P3 = a1;         // –û–ø–µ—Ä–∞—Ü–∏—è —Å –ø–æ—Ä—Ç–æ–º
    a2 = 15;         // –í—Ç–æ—Ä–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
    P1 = a2;         // –í—Ç–æ—Ä–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –ø–æ—Ä—Ç–æ–º
}
```

## Explanation

### Language Restrictions

1. **–°—Ç–∞—Ä—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã C (C89/C90)**: 
   - –¢—Ä–µ–±–æ–≤–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ù–∏–∫–∞–∫–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞

2. **–ü—Ä–∏—á–∏–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**:
   - –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ –≤ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
   - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞–º–∏

### Compiler Behavior

- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, Keil C51)
- –°—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞

## Best Practices

1. –û–±—ä—è–≤–ª—è–π—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥—Ä—É–ø–ø–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. –°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

## Code Example with Multiple Declarations

```c
void main(void) {
    // –ì—Ä—É–ø–ø–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    char a1, a2, a3;  // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–∏–ª—å
    
    // –ö–æ–¥ –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
    a1 = 10;
    a2 = 15;
    a3 = a1 + a2;
}
```

## Key Takeaways

- üö® –ù–µ –æ–±—ä—è–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- üîç –ò–∑—É—á–∞–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
- üí° –í—Å–µ–≥–¥–∞ –æ–±—ä—è–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–≤—ã–º–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏

## Recommended Compilers

- Keil C51
- SDCC (Small Device C Compiler)
- IAR Embedded Workbench
